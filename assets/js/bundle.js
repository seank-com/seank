
const lazyImages=document.getElementsByClassName("lazy");document.addEventListener("DOMContentLoaded",(()=>{[...lazyImages].forEach((t=>{const e=t.dataset.src;t.setAttribute("src",e),t.removeAttribute("data-src")}))}),!1);class SearchPosts{async init(){const t=new URL(location.href).searchParams;this.start=Number(t.get("start"))||1,this.size=Number(t.get("size"))||12,this.posts=await fetch("../index.json").then((t=>t.json())),this.render(t.get("q"))}render(t){const e=document.getElementById("wrapper"),n=document.getElementById("searchbox"),s=document.getElementById("info");if(t="string"==typeof t?t.toLowerCase():"",history.replaceState(null,null,`?q=${t}&start=${this.start}&size=${this.size}`),n.value=t,e.innerHTML="",""===t)return void(s.textContent="Enter keywords in the search box above");const r=this.posts.filter((e=>-1!==e.title.toLowerCase().indexOf(t)));if(0===r.length)return void(s.textContent=`No results were found for "${t}"`);const o=this.size,a=this.start-1,i=r.slice(a,a+o),c=a+i.length,d=this.start<c||1!==this.start?`${this.start} to ${c}`:this.start,l=r.length>1?"s":"";s.textContent=`Showing ${d} of ${r.length} result${l} found for "${t}"`,i.forEach((t=>{const{url:n,title:s,date:r}=t;e.innerHTML+=`\n      <div>\n      <a href="${n}" class="uk-link-heading">\n        <div class="uk-card uk-card-default uk-card-body">\n          <h3 class="uk-card-title">${s}</h3>\n          <p>${r}</p>\n            </div>\n          </a>\n        </div>\n      `}))}}if("/search/"===location.pathname){const t=document.getElementById("searchbox"),e=new SearchPosts;e.init(),t.addEventListener("keyup",debounce((function(){e.render(this.value)}),400))}function debounce(t,e){let n,s=[];return function(...r){return new Promise((o=>{clearTimeout(n),n=setTimeout((()=>{n=null;const e=t.apply(this,r);for(o of s)o(e);s=[]}),e),s.push(o)}))}}